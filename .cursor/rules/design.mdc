---
alwaysApply: false
---
# Reglas de Dise√±o y Componentes - BeweOS

## 1. Objetivo Principal

El prop√≥sito de estas reglas es guiar la implementaci√≥n t√©cnica de los dise√±os de Figma de manera fiel y consistente. El objetivo es asegurar una transici√≥n precisa desde el dise√±o visual hacia componentes de c√≥digo funcionales, reutilizables y alineados con la arquitectura del proyecto.

**Nota Importante:** La `sidebar` (componente `Menu`) y la `topbar` no se deben interpretar como parte del dise√±o de una p√°gina espec√≠fica. Son elementos de layout abstra√≠dos.

## 2. Principio Clave: Jerarqu√≠a de Componentes

Antes de escribir cualquier c√≥digo de un nuevo componente, se **debe** seguir estrictamente la siguiente jerarqu√≠a de b√∫squeda:

ü•á **1. Prioridad Absoluta: Aurora UI (`@beweco/aurora-ui`)**
   *   **Fuente de la Verdad**: Aurora UI define todas las reglas visuales, incluyendo **botones, cards, inputs y tama√±os**.
   *   **Proxy de HeroUI**: Es un proxy de HeroUI con personalizaciones espec√≠ficas de BeweOS. Contiene tanto componentes base como personalizados.
   *   **Acci√≥n**: Comprobar primero si el componente existe en `@beweco/aurora-ui`. Si es un componente custom, revisar su documentaci√≥n en `shared/ui`.

ü•à **2. Buscar en Shared UI (`src/shared/ui/components/`)**
   *   **Componentes de Proyecto**: Si el componente no es parte de la librer√≠a base de Aurora UI, buscar en los componentes compartidos del proyecto.
   *   Aqu√≠ residen componentes reutilizables m√°s complejos o espec√≠ficos del negocio.

ü•â **3. Crear el Componente**
   *   **√öltimo Recurso**: Solo si el componente no existe en ninguna de las librer√≠as anteriores, se proceder√° a su creaci√≥n.
   *   El nuevo componente debe construirse utilizando los primitivos de Aurora UI (Atomos) siempre que sea posible.

## 3. Flujo de Trabajo: De Figma al C√≥digo

### Fase 1: An√°lisis del Dise√±o con TalkToFigma MCP

Antes de empezar a desarrollar, el modelo **debe** ejecutar la siguiente secuencia para entender el contexto del dise√±o:

1.  **`get_document_info`**: Obtener informaci√≥n general del archivo Figma.
2.  **`get_selection`**: Identificar los elementos seleccionados que se van a implementar.
3.  **`read_my_design`**: Extraer los detalles visuales, de estructura, tipograf√≠a y colores del m√≥dulo seleccionado.

### Fase 2: Implementaci√≥n y Ubicaci√≥n de Componentes

Una vez analizado el dise√±o, para cada elemento visual se debe aplicar la **Jerarqu√≠a de Componentes**.

#### Si el Componente ya Existe:

*   Utilizar el componente encontrado en `@beweco/aurora-ui` (o `shared/ui`) aplicando las variantes (`variant`, `color`, `size`, etc.) y propiedades necesarias para que coincida con el dise√±o de Figma.

#### Si el Componente NO Existe (necesita ser creado):

Se debe tomar una decisi√≥n sobre su ubicaci√≥n basada en su potencial de reutilizaci√≥n, alineada con la **Vertical Slice Architecture**:

**A. ¬øEs un componente gen√©rico y reutilizable en m√∫ltiples features/p√°ginas?**
(Ej: un `Card` especial - **usar settings como referencia**, un `Uploader` personalizado, un `DataGrid` avanzado).

*   **S√≠** ‚Üí El componente **debe** crearse en la carpeta de componentes compartidos:
    *   `src/shared/ui/components/`
    *   **Convenci√≥n de Nombres:** `[ComponentName].tsx`

**B. ¬øEs un componente espec√≠fico para una √∫nica feature o "slice"?**
(Ej: un formulario de perfil de usuario, una tabla de configuraci√≥n de marca blanca).

*   **S√≠** ‚Üí El componente **debe** crearse dentro de la carpeta de componentes del slice contextual:
    *   `src/[feature]/ui/[slice]/components/`
    *   **Convenci√≥n de Nombres:** `[ComponentName].tsx`

**Nota:** Los componentes UI son **adaptadores** en la arquitectura hexagonal. Su responsabilidad es puramente presentacional y de interacci√≥n con el usuario, delegando la l√≥gica de negocio a la capa de aplicaci√≥n.

### Fase 3: Validaci√≥n

Una vez implementado el componente, se debe validar que:
*   Las **interacciones** (hover, focus, active, disabled) funcionen como se espera.
*   Los **estados** (loading, error, empty) est√©n contemplados.
*   El comportamiento **responsivo** se ajuste a las reglas del grid.

---

## 4. Gu√≠as del Sistema de Dise√±o

### Grid Responsivo
- **xl (1280px+):** 4 columnas
- **lg (1024px):** 3 columnas
- **md (744px):** 2 columnas
- **sm (640px):** 1 columna
- **xs (320px):** 1 columna

### Animaciones
*   **Duraciones est√°ndar:** 150‚Äì600 ms
*   **Curvas de aceleraci√≥n:** `ease-in`, `ease-out`, `ease-in-out`
*   **Accesibilidad:** Se debe respetar la preferencia de `prefers-reduced-motion`.

### Modo Oscuro
* Adaptaciones necesarias para fondos, bordes y textos
* Debe probarse la visibilidad en ambos modos


# Gu√≠a R√°pida para Crear Componentes

## ‚úÖ Checklist Esencial

Antes de hacer un Pull Request, verifica que tu componente cumpla con lo siguiente:

- [ ] **Traducciones**: Interface `[ComponentName]Translations` definida y prop `translations` implementada.
- [ ] **Defaults en Espa√±ol**: `defaultTranslations` con textos en espa√±ol.
- [ ] **Textos Traducibles**: Todos los textos (labels, placeholders, etc.) usan el objeto de traducci√≥n `t`.
- [ ] **Dark Mode**: Estilos `dark:` aplicados para el modo oscuro.
- [ ] **Accesibilidad (A11y)**: `htmlFor` en labels y `aria-label` en elementos interactivos.
- [ ] **Estructura Correcta**: Archivos `ComponentName.tsx`, `ComponentName.types.ts`, y `index.ts` en `src/components/nombredelcomponente/`
- [ ] **Sin `any`**: Tipado estricto en todo el componente.

---

## üåç Internacionalizaci√≥n (i18n) - OBLIGATORIO

**Meta**: Permitir que el consumidor de la librer√≠a provea las traducciones, sin forzar una herramienta espec√≠fica.

### Implementaci√≥n en 3 Pasos

1.  **Definir la Interface de Traducciones**
    ```typescript
    // En: src/components/componentname/ComponentName.types.ts
    export interface [ComponentName]Translations {
      label?: string;
      placeholder?: string;
      errorMessage?: string;
      // ...otros textos que el componente necesite
    }
    ```

2.  **Crear Traducciones por Defecto (en Espa√±ol)**
    ```typescript
    // En: src/components/componentname/ComponentName.tsx
    const defaultTranslations: Required<[ComponentName]Translations> = {
      label: "Etiqueta por defecto",
      placeholder: "Escribe aqu√≠...",
      errorMessage: "Este campo tiene un error.",
    };
    ```

3.  **Consumir las Traducciones en el Componente**
    ```typescript
    // En: src/components/componentname/ComponentName.tsx
    import { [ComponentName]Props } from './[ComponentName].types';
    
    export const [ComponentName]: React.FC<[ComponentName]Props> = ({
      translations = {},
      ...props
    }) => {
      // Combina los defaults con las props recibidas
      const t = { ...defaultTranslations, ...translations };
      
      return (
        <div>
          <label>{t.label}</label>
          <input placeholder={t.placeholder} />
        </div>
      );
    };
    ```
